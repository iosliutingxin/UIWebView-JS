!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_paycommon=__webpack_require__(1),userId=0,Init=function(){if(""===api.getUser().userId||null===api.getUser().userId||"undefined"==typeof api.getUser().userId||""!==api.getCookie("EncyQuickLink")&&null!==api.getCookie("EncyQuickLink")&&!_typeof("undefined"===api.getCookie("EncyQuickLink")))if(""===api.getUser().userId||null===api.getUser().userId||"undefined"==typeof api.getUser().userId&&""!==api.getCookie("EncyQuickLink")&&null!==api.getCookie("EncyQuickLink")&&_typeof("undefined"!==api.getCookie("EncyQuickLink")))userId=api.getCookie("EncyQuickLink");else{var url="https://mpay.uzai.com/pay/index.html?orderCode="+orderCode;orderCode.indexOf("l")>-1&&(url="https://mpay.uzai.com/pay/individual-payment.html?ordercode="+orderCode),api.login(location.href,url)}else userId=api.getUser().userId;$("#agreement").next().removeClass("icon-round-on").addClass("icon-round"),setTimeout(function(){document.querySelector("footer").style.top=window.innerHeight-document.querySelector("footer").offsetHeight+"px"},1e3)};!function(){Init();var bcm=angular.module("bcm",[]);bcm.controller("Payment",function($http,$scope,$compile){var $paycommon=new _paycommon.PayCommon($http,$scope);angular.element(document).ready(function(){api.router($http,$scope,$compile,0)}),window.payPrice=0;var orderCode=api.getQueryString("orderCode"),orderId=api.getQueryString("orderId"),tuanId=api.getQueryString("tuanId"),preferentialIds=api.getQueryString("preferentialIds"),preferentialTotalMoney=api.getQueryString("preferentialTotalMoney"),IsValidatePref=!0,isSonOrder=!1,devicetype=api.getQueryString("devicetype")||"wap",payPlatForm=0,getOrderParameters=JSON.stringify({orderCode:orderCode,UserId:userId,Terminaltype:devicetype||"wap"});$paycommon.GetBankPreferentialList(getOrderParameters,function(paymentInfo){$scope.paymentInfo=paymentInfo,$scope.orderPrepayMent=0,$scope.paymentInfo.OrderDetail.UzaiOrder&&($scope.paymentInfo.OrderDetail.UzaiOrderSonList&&$scope.paymentInfo.OrderDetail.UzaiOrderSonList.length>0&&(isSonOrder=!0),$scope.orderPrepayMent=(1e3*$scope.paymentInfo.OrderDetail.UzaiOrder.PrepayMent-1e3*$scope.paymentInfo.PreferentialMoney)/1e3,isSonOrder&&($scope.orderPrepayMent=1e3*$scope.paymentInfo.OrderDetail.UzaiOrder.PrepayMent/1e3))}),$scope.sendValidateCode=function(){if("yzm_h"===this.className)return!1;var validateCode=$("#btn_validateCode"),parameters=JSON.stringify({Terminaltype:devicetype||"wap",userid:userId,OutOrderCode:orderId,OrderCode:orderCode,CardNo:document.getElementById("txt_cardNo").value,CardHolderName:document.getElementById("txt_cardholder").value,ExpiryDate:document.getElementById("txt_expiryDate").value,preferentialIds:preferentialIds,preferentialTotalMoney:preferentialTotalMoney,PersonCount:$scope.paymentInfo.OrderDetail.UzaiOrder.Person,ChildCount:$scope.paymentInfo.OrderDetail.UzaiOrder.Child});validateParameter(!1,!0)&&(validateCode.hasClass("yzm_h")||(api.loading(),api.post($http,$scope,api.path.mpaylogic,"Payment","GetBCMVerificationMsg",parameters,function(data){return api.endloading(),hanlderResponse(data)?(ResetCode(),data=JSON.parse(data.JsonResult),$scope.InvioceNo=data.InvioceNo,$scope.AddData=data.AddData,$scope.TraceNo=data.TraceNo,void 0):!1},0,!1,!1)))},$scope.agreement=function(){var pass=validateParameter(!0,!1),isAgree=$("#agreement").next().hasClass("icon-round-on");isAgree?($("#agreement").next().removeClass("icon-round-on").addClass("icon-round"),pass&&$("#submitPay").removeClass("disable").removeAttr("disabled")):($("#agreement").next().removeClass("icon-round").addClass("icon-round-on"),pass&&$("#submitPay").addClass("disable").attr({disabled:"disabled"}))},$scope.updatePayButtonStyle=function(){var pass=validateParameter(!0,!1),isAgree=$("#agreement").next().hasClass("icon-round-on");pass&&!isAgree?$("#submitPay").removeClass("disable").removeAttr("disabled"):$("#submitPay").addClass("disable").attr({disabled:"disabled"})},$scope.submit=function(){var isNosAgree=$("#agreement").next().hasClass("icon-round-on");if(!$("#submitPay").hasClass("disable")&&validateParameter(!0,!0)){$("#submitPay").addClass("disable").attr({disabled:"disabled"}),api.isApp()&&("ios"===devicetype?payPlatForm=1:"android"===devicetype&&(payPlatForm=2));var needCheck=!0;if(null!=$scope.paymentInfo.OrderDetail.UzaiOrderSonList&&$scope.paymentInfo.OrderDetail.UzaiOrderSonList.length>0){var paiedSonOrder=$scope.paymentInfo.OrderDetail.UzaiOrderSonList.filter(function(sonOrder){return 1===sonOrder.State})[0];paiedSonOrder&&(needCheck=!1)}if(needCheck&&$scope.paymentInfo.IsSplitSingle&&$scope.paymentInfo.PrefIsExpired)return void api.toast("优惠已下线，无法完成支付，请联系客服",1500);var parameters=JSON.stringify({needCheck:needCheck,orderCode:orderCode,orderID:$scope.paymentInfo.OrderDetail.UzaiOrder.OrderId,userId:userId,productId:$scope.paymentInfo.OrderDetail.UzaiOrder.ProductId,productName:encodeURI($scope.paymentInfo.OrderDetail.UzaiOrder.ProductName),productType:$scope.paymentInfo.OrderDetail.UzaiOrder.ProductType,supplierFlag:$scope.paymentInfo.OrderDetail.UzaiOrder.SupplierFlag,supplierNo:$scope.paymentInfo.OrderDetail.UzaiOrder.SupplierNo,goDate:$scope.paymentInfo.OrderDetail.UzaiOrder.GoDate,person:$scope.paymentInfo.OrderDetail.UzaiOrder.Person,child:$scope.paymentInfo.OrderDetail.UzaiOrder.Child,isUseCoupons:!1,isUsePoint:!1,PreferentialIds:preferentialIds,tuanId:tuanId,preferentialTotalMoney:preferentialTotalMoney,enable:$scope.paymentInfo.OrderDetail.UzaiOrder.Enable,state:$scope.paymentInfo.OrderDetail.UzaiOrder.State});api.post($http,$scope,api.path.mbuylogic,"Payment","CheckPayOrderDetail",parameters,function(orderdata){if(hanlderResponse(orderdata)){var postPayParameters=JSON.stringify({userid:userId,OutOrderCode:orderId,InvioceNo:$scope.InvioceNo,AddData:$scope.AddData,BankCardNo:document.getElementById("txt_cardNo").value,ExpiryDate:document.getElementById("txt_expiryDate").value,CardHolderName:document.getElementById("txt_cardholder").value,ValidateCode:document.getElementById("txt_validateCode").value,TraceNo:$scope.TraceNo,preferentialIds:preferentialIds,preferentialTotalMoney:preferentialTotalMoney,PersonCount:$scope.paymentInfo.OrderDetail.UzaiOrder.Person,ChildCount:$scope.paymentInfo.OrderDetail.UzaiOrder.Child,IsValidatePref:IsValidatePref,PayPlatForm:payPlatForm});api.post($http,$scope,api.path.mpaylogic,"Payment","PostBCMPay",postPayParameters,function(data){if(api.loading(),-2===data.ErrorCode&&"null"!==data.JsonResult&&"undefined"!==data.JsonResult){var resultDate=JSON.parse(data.JsonResult);if(resultDate&&!resultDate.preferentialStatus)return $scope.showPreferentialExpire=!0,IsValidatePref=!1,!1}isNosAgree||(api.isApp()?200!==data.ErrorCode?(api.endloading(),api.toast(data.ErrorMsg,1500),$("#submitPay").removeClass("disable").removeAttr("disabled")):(api.toast("支付成功",2e3),orderCode.toLowerCase().indexOf("l")>-1?window.location.href="https://mhome.uzai.com/order/singleorderdetail.html?orderid="+$scope.paymentInfo.OrderDetail.OrderId:bridge.openPayDetail($scope.paymentInfo.OrderDetail.UzaiOrder.OrderId,1,isSonOrder)):($("#submitPay").removeClass("disable").removeAttr("disabled"),window.location.href="https://mpay.uzai.com/PayCallBack/BCMPayCallBack?code="+data.ErrorCode+"&msg="+data.ErrorMsg))},0,!1)}},0,!1)}},$scope.slashCompletion=function(expiryDateModel){var expiryDate=document.getElementById("txt_expiryDate").value;if(expiryDate.length>0){$("#prompt").css("display","none");var pass=validateParameter(!0,!1),isAgree=$("#agreement").next().hasClass("icon-round-on");pass&&!isAgree?$("#submitPay").removeClass("disable").removeAttr("disabled"):$("#submitPay").addClass("disable").attr({disabled:"disabled"})}else $("#submitPay").addClass("disable").attr({disabled:"disabled"}),$("#prompt").css("display","block")},$scope.goBack=function(){if(""===api.getUser().userId||null===api.getUser().userId||"undefined"==typeof api.getUser().userId&&""!==api.getCookie("EncyQuickLink")&&null!==api.getCookie("EncyQuickLink")&&_typeof("undefined"!==api.getCookie("EncyQuickLink")))window.location.href=document.referrer;else{var url="https://mpay.uzai.com/pay/index.html?ordercode="+orderCode;orderCode.indexOf("l")>-1&&(url="https://mpay.uzai.com/pay/individual-payment.html?ordercode="+orderCode),bridge.goBack(url,!0,!1,0)}},$scope.clickMask=function(){$scope.showPreferentialExpire&&($scope.showPreferentialExpire=!1),$("body").css("overflow-y","scroll")}})}();var validateParameter=function(isHasValidateCode,isShow){var cardNoReg=/^\d{16}$/g,validateCodeReg=/^\d{6}$/g,cardholderReg=/^[\u4e00-\u9fa5_a-zA-Z]+$/,myDate=new Date,year=myDate.getYear(),yy=year.toString().substr(1,2),cardNo=document.getElementById("txt_cardNo").value,expiryDate=document.getElementById("txt_expiryDate").value,validateCode=document.getElementById("txt_validateCode").value,cardholder=document.getElementById("txt_cardholder").value;return cardNoReg.test(cardNo)?expiryDate.substr(2,2)<yy||expiryDate.substr(5,2)>12||"0"===expiryDate.substr(5,2)?(isShow&&api.toast("请输入正确的信用卡有效期",1500),!1):isHasValidateCode&&!validateCodeReg.test(validateCode)?(isShow&&api.toast("请输入正确的验证码",1500),!1):""===cardholder||null==cardholder.match(cardholderReg)?(isShow&&api.toast("请输入正确的持卡人姓名",1500),!1):!0:(isShow&&api.toast("请输入正确的银行卡号",1500),!1)},hanlderResponse=function(response){return 200===response.ErrorCode?!0:-3===response.ErrorCode?(api.toast("网络连接失败,请重试～",1500),!1):(api.toast(response.ErrorMsg,1500),!1)},ResetCode=function(){var second=60,timer=null,validateCode=$("#btn_validateCode");validateCode.hasClass("yzm_h")||(timer=setInterval(function(){second-=1,second>0?validateCode.addClass("yzm_h").val(second+"s后重新发送"):(clearInterval(timer),validateCode.val("获取验证码").removeClass("yzm_h"))},1e3))},androidGoBack=function(){var url="https://mpay.uzai.com/pay/index.html?ordercode="+api.getQueryString("orderCode");api.getQueryString("orderCode").indexOf("l")>-1&&(url="https://mpay.uzai.com/pay/individual-payment.html?ordercode="+api.getQueryString("orderCode")),window.location.href=url};window.androidGoBack=androidGoBack,window.expiryDateBlur=function(){var expiryDate=document.getElementById("txt_expiryDate").value;expiryDate.length>0?$("#prompt").css("display","none"):$("#prompt").css("display","block")},window.expiryDateFocus=function(){$("#prompt").css("display","none")}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PayCommon=function(){function PayCommon($http,$scope){_classCallCheck(this,PayCommon),this.$http=$http,this.$scope=$scope,this.devicetype=api.getQueryString("devicetype")||"wap"}return _createClass(PayCommon,[{key:"is_weixin",value:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("micromessenger")>-1}},{key:"GetBankPreferentialList",value:function(parameters,callback){var _this=this,_that=this,controller="",actionname="";""!==api.getUser().userId&&null!==api.getUser().userId&&"undefined"!=typeof api.getUser().userId?(controller="Payment",actionname="GetBankPreferentialList"):(controller="QuickPayLink",actionname="GetQuickPayLinkInit"),api.post(this.$http,this.$scope,api.path.mpaylogic,controller,actionname,parameters,function(data){if(_that.hanlderResponse(data)){if(data=JSON.parse(data.JsonResult),"7"===data.OrderDetail.UzaiOrder.Enable||"7"!==data.OrderDetail.UzaiOrder.Enable&&data.IsSonOrderPay===!0)api.toast("该笔付款已完成，请登录后查看订单状态!",2e3),setTimeout(function(){location.href="https://u.uzai.com/mobile/order"},2e3);else if("9"===data.OrderDetail.UzaiOrder.Enable)return void api.toast("该订单已取消，如需支付请重新下单!");if(_this.$scope.isshowapplepay=!1,_this.$scope.isios=!1,api.isApp()){var appversion=api.getCookie("appversion");if("5.5.6">appversion){var notGiftCard=function(element,index,array){return 10!==element.BankID};data.Banks=data.Banks.filter(notGiftCard)}if("ios"===devicetype){_this.$scope.isios=!0,_this.$scope.isbindbankcard=api.getCookie("isbindbankcard");var phonetype=api.getCookie("phonetype"),systemversion=api.getCookie("systemversion");if(systemversion&&systemversion.split(".").length<3)for(var i=0;i<3-systemversion.split(".").length;i++)systemversion+=".0";if(appversion>="5.5.2"&&Number("9.2.0".replace(/\./g,""))<=Number(systemversion.replace(/\./g,""))&&("iphone6"===phonetype||"iphone6s"===phonetype||"iphone6plus"===phonetype||"iphone6splus"===phonetype||"iphone7"===phonetype||"iphone7plus"===phonetype||"iphonese"===phonetype||"ipad"===phonetype)&&(_this.$scope.isshowapplepay=!0),!_this.$scope.isshowapplepay){var notapplepay=function(element,index,array){return 84!==element.BankID};data.Banks=data.Banks.filter(notapplepay),data.IsBankPref&&(data.PreferentialMoney=0);var notapplepaypref=function(element,index,array){return 32!==element.PreferentialType};data.OrderDetail.UzaiPreferentialRecord=data.OrderDetail.UzaiPreferentialRecord.filter(notapplepaypref)}}}if(_this.is_weixin()){var notalipay=function(element,index,array){return 45!==element.BankID};data.Banks=data.Banks.filter(notalipay),data.IsBankPref&&(data.PreferentialMoney=0);var notalipaypref=function(element,index,array){return 32!==element.PreferentialType};data.OrderDetail.UzaiPreferentialRecord=data.OrderDetail.UzaiPreferentialRecord.filter(notalipaypref);var openidkey=data.WeiXinOpenIdKey;if(_this.$scope.openidvalue=api.getCookie(openidkey),null===_this.$scope.openidvalue||""===_this.$scope.openidvalue||"undefined"==typeof _this.$scope.openidvalue){var checkurl="https://m.uzai.com/WeiXin/Authorization?MyUrl="+encodeURIComponent(decodeURIComponent(location.href).replace("#rd&","&").replace("#rd",""));location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+data.MWeiXinAppId+"&redirect_uri="+encodeURIComponent(checkurl)+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect"}}if(data.GetCustomTelList)for(var _i=0;_i<data.GetCustomTelList.length;_i++)1===data.GetCustomTelList[_i].Type?"ios"===devicetype&&(_this.$scope.Telphone=data.GetCustomTelList[_i].Telephone):2===data.GetCustomTelList[_i].Type?"android"===devicetype&&(_this.$scope.Telphone=data.GetCustomTelList[_i].Telephone):20===data.GetCustomTelList[_i].Type&&"ios"!==devicetype&&"android"!==devicetype&&(_this.$scope.Telphone=data.GetCustomTelList[_i].Telephone);callback(data)}},0,!1)}},{key:"mobilePay",value:function(orderCode,isSonOrder,tuanId,payOrderID,preferentialIds,preferentialTotalMoney,bankCode,userId){var bcmpayurl="https://mpay.uzai.com/pay/bcmpay.html?orderCode="+orderCode+"&orderId="+(isSonOrder?"02":"01")+payOrderID+"&tuanId="+(null===tuanId?0:tuanId)+"&preferentialIds="+preferentialIds+"&preferentialTotalMoney="+preferentialTotalMoney,flippedCardUrl="https://mpay.uzai.com/pay/flippedpay.html?orderCode="+orderCode+"&orderId="+this.$scope.paymentInfo.OrderDetail.UzaiOrder.OrderId,quickunionpayurl="https://mpay.uzai.com/pay/quickunionpay.html?orderCode="+orderCode+"&preferentialIds="+preferentialIds;if(api.isApp())if("BCM"===bankCode)window.location.href=bcmpayurl;else if("FlippedCard"===bankCode)window.location.href=flippedCardUrl;else if("QuickUnionPay"===bankCode)window.location.href=quickunionpayurl;else{var params={payType:bankCode,IsSSL:0,IsUtour:0,goDate:this.$scope.paymentInfo.OrderDetail.UzaiOrder.GoDate,nums:this.$scope.paymentInfo.OrderDetail.UzaiOrder.OrderPresonCount,orderCode:orderCode,orderId:payOrderID,pname:this.$scope.paymentInfo.OrderDetail.UzaiOrder.ProductName,prepayment:this.$scope.orderPrepayMent};bridge.invokeBankPay(params)}else{var param={OutOrderCode:payOrderID,UserId:userId,payType:bankCode,ClientIP:api.getCookie("spbill_create_ip")};switch(this.is_weixin()&&(param.OpenId=this.$scope.openidvalue),isSonOrder?param.OutOrderCode="02"+payOrderID:param.OutOrderCode="01"+payOrderID,param=JSON.stringify(param),bankCode){case"KQ":this.mpayRedirect("GetMKQPay",param);break;case"AliPay":this.mpayRedirect("GetMAliPay",param);break;case"MWeiXin":this.is_weixin()?this.mpayRedirect("GetMWeiXinPay",param):this.mpayRedirect("GetMArouseWinXinClientPay",param);break;case"BCM":window.location.href=bcmpayurl;break;case"QuickUnionPay":window.location.href=quickunionpayurl;break;case"FlippedCard":window.location.href=flippedCardUrl}}}},{key:"mpayRedirect",value:function(mpayaction,param){var _that=this;this.is_weixin()&&"MWeiXin"===JSON.parse(param).payType?api.post(this.$http,this.$scope,api.path.mpaylogic,"Payment",mpayaction,param,function(data){function onBridgeReady(){var payData=MPayRes;if(payData){var jsonData=payData;if("fail"===jsonData.return_code.toLowerCase())return void alert(jsonData.return_msg);if("fail"===jsonData.result_code.toLowerCase())return void alert(jsonData.err_code_des);window.WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:jsonData.appid,timeStamp:jsonData.timestamp,nonceStr:jsonData.nonce_str,"package":jsonData["package"],signType:jsonData.signType,paySign:jsonData.sign},function(res){"get_brand_wcpay_request:ok"===res.err_msg&&(api.toast("支付完成",1e3),location.href="https://u.uzai.com/mobile/order"),"get_brand_wcpay_request:cancel"===res.err_msg&&(api.toast("支付失败",1e3),location.href="https://u.uzai.com/mobile/order"),"get_brand_wcpay_request:fail"===res.err_msg&&(api.toast("支付失败",1e3),location.href="https://u.uzai.com/mobile/order")})}}if(api.loading(),_that.hanlderResponse(data)){var MPayRes=JSON.parse(data.JsonResult);"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):onBridgeReady()}},0,!1):this.is_weixin()||"MWeiXin"!==JSON.parse(param).payType?api.post(this.$http,this.$scope,api.path.mpaylogic,"Payment",mpayaction,param,function(data){if(api.loading(),_that.hanlderResponse(data)){var MPayRes=JSON.parse(data.JsonResult),div=document.createElement("div");""!==MPayRes.MPayRes&&"undefined"!=typeof MPayRes.MPayRes&&(div.innerHTML=MPayRes.MPayRes.replace(/&plus/g,"+")),document.body.appendChild(div),document.forms[0].submit()}},0,!1):api.post(this.$http,this.$scope,api.path.mpaylogic,"Payment",mpayaction,param,function(data){if(api.loading(),!_that.hanlderResponse(data))return void api.endloading();var weixinjson=JSON.parse(data.JsonResult);if("success"===weixinjson.ReturnCode.toLowerCase()&&"success"===weixinjson.ResultCode.toLowerCase()){var mweburl=weixinjson.MwebUrl;window.location.href=mweburl}},0,!1)}},{key:"hanlderResponse",value:function(response){var _that=this;return 200===response.ErrorCode?!0:-3===response.ErrorCode?(api.toast("网络连接失败,请重试～"),!1):(-5===response.ErrorCode&&(api.toast(response.ErrorMsg,2e3),this.$scope.showPreferentials=!1,_that.GetBankPreferentialList(parameters)),-6===response.ErrorCode?(this.$scope.showError=!0,!1):(api.toast(response.ErrorMsg,2e3),!1))}},{key:"gaStatistics",value:function(data,orderCode){setTimeout(function(){var travelClass={1:"出境游",2:"国内游",3:"周边游",4:"签证",5:"酒店",6:"国内机票",7:"门票",8:"租车",9:"手机租赁",10:"自驾游",11:"机票+酒店",12:"巴士+酒店",13:"国内半自助",14:"一日游",15:"海外自由行",16:"国内自由行",17:"邮轮船票",18:"邮轮套餐",19:"自驾车+酒店",20:"接送机",21:"国际酒店",22:"国内酒店",23:"房型",24:"团队游(国内)",25:"手机",26:"附加产品",27:"团队游(出境)",28:"会员",29:"周边自由行",32:"国际机票",33:"供应商确认单",34:"其他业务收入",35:"资深",37:"wifi租赁",38:"国内私家团产品",39:"单项服务",40:"出境私家团产品",41:"特卖会产品",42:"国际火车",43:"要出发",44:"奇迹旅行"};try{window.ga("require","ecommerce","ecommerce.js"),window.ga("ecommerce:addTransaction",{id:orderCode,affiliation:"",revenue:data.OrderDetail.UzaiOrder.PrepayMent,shipping:"",tax:""}),window.ga("ecommerce:addItem",{id:orderCode,name:data.OrderDetail.UzaiOrder.ProductName,sku:data.OrderDetail.UzaiOrder.ProductId,category:travelClass[data.OrderDetail.UzaiOrder.UzaiTravelClassID],price:data.OrderDetail.UzaiOrder.PrepayMent,quantity:data.OrderDetail.UzaiOrder.Person+data.OrderDetail.UzaiOrder.Child}),window.ga("ecommerce:send")}catch(err){}},200)}}]),PayCommon}();exports.PayCommon=PayCommon}]);