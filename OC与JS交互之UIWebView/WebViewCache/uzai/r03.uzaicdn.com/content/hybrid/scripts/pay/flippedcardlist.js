"use strict";!function(window){function androidGoBack(){window.history.go(-1)}api.__asyncLoadingCode__="0",window.androidGoBack=androidGoBack;var $doc=document;window.z,window.$My={};for(var $cardtypeindex=0,$li=$doc.querySelectorAll(".main_top li"),$main=$doc.querySelectorAll(".main_m"),i=0;i<$li.length;i++)$li[i].onclick=function(){[].filter.call(this.parentNode.children,function(child){return child.classList.remove("on"),child!==this}),this.classList.add("on");for(var l=0;l<$main.length;l++)$main[l].classList.add("hide");$main[this.getAttribute("attr-index")].classList.remove("hide"),$cardtypeindex=this.getAttribute("attr-index")};api.getQueryString("cardType")&&$li[api.getQueryString("cardType")].click();var $app=angular.module("listApp",[]);$app.controller("listController",function($scope,$http){var _userId=api.getUser().userId;if(!_userId||"undefined"==typeof _userId)return void api.login(window.location.href,window.location.href);var _param=JSON.stringify({UserId:_userId});api.post($http,$scope,api.path.mpaylogic,"FlippedCard","List",_param,function(obj){if(200===obj.ErrorCode||-3===obj.ErrorCode){if(-3===obj.ErrorCode)api.toast(obj.ErrorMsg);else{var _result=JSON.parse(obj.JsonResult);200===_result.Code?($scope.listResult=_result,$scope.AvailableCount=_result.Result.AvailableCount,$scope.OverDueCount=_result.Result.OverDueCount,$scope.UnUsedCount=_result.Result.UnUsedCount,$scope.NotUseCount=parseInt(parseInt(_result.Result.OverDueCount)+parseInt(_result.Result.UnUsedCount)),$scope.UsedCount=_result.Result.UsedCount,$scope.NotUseCardList=_result.Result.NotUseCardList,$scope.UseCardList=_result.Result.UseCardList,$scope.UseOverCardList=_result.Result.UseOverCardList,console.log(_result.Result)):1012===_result.Code?($scope.AvailableCount=0,$scope.NotUseCount=0,$scope.UsedCount=0):(api.endloading(),api.toast(obj.ErrorMsg))}api.endloading()}else api.endloading(),api.toast(obj.ErrorMsg)},0,!1),$scope.GoTransList=function(cardNo){""!==cardNo&&null!==cardNo&&void 0!==cardNo&&"undefined"!==cardNo?window.location.href="https://mhome.uzai.com/flippedcard/flippedcarddetail.html?cardNo="+cardNo+"&cardType="+$cardtypeindex:api.toast("获取卡号失败，请刷新后重试！")}})}(window);