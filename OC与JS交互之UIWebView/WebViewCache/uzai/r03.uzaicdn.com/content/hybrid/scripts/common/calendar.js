!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}({0:function(module,exports,__webpack_require__){"use strict";var _vstoresdk=__webpack_require__(7);null!=api.getQueryString("vstoreid")&&"null"!=api.getQueryString("vstoreid")&&""!=api.getQueryString("vstoreid")&&(api.__asyncLoadingCode__="0"),function(){function CreateCalendar(sel){this.sel=sel}function changeMonth(){if($(".swiper-slide-active").addClass("myCur").siblings(".swiper-slide").removeClass("myCur"),$(".myCur").find(".day-list li").is(".new")){var curDay=$(".myCur").find(".new:last").next().attr("data-time"),ary=curDay.split("-"),$month=$(".switch-btn .center .month");$(".switch-btn .center").show(),$month.html(ary[1]).siblings(".year").find("b:last").html(ary[0])}else{var _curDay=$(".myCur").find(".day-list li:first").attr("data-time"),_ary=_curDay.split("-"),_$month=$(".switch-btn .center .month");$(".switch-btn .center").show(),_$month.html(_ary[1]).siblings(".year").find("b:last").html(_ary[0])}if($(".swiper-slide").eq(0).hasClass("myCur"))$(".switch-btn .left").html("").addClass("zHide");else if($(".myCur").prev().find(".day-list li").is(".new")){var lastDay=$(".myCur").prev().find(".new:last").next().attr("data-time"),lastAry=lastDay.split("-");$(".switch-btn .left").html(lastAry[1]+"月").removeClass("zHide")}else{var _lastDay=$(".myCur").prev().find(".day-list li:first").attr("data-time"),_lastAry=_lastDay.split("-");$(".switch-btn .left").html(_lastAry[1]+"月").removeClass("zHide")}if($(".swiper-slide:last").hasClass("myCur"))$(".switch-btn .right").html("").addClass("zHide");else if($(".myCur").next().find(".day-list li").is(".new")){var newDay=$(".myCur").next().find(".new:last").next().attr("data-time"),newAry=newDay.split("-");$(".switch-btn .right").html(newAry[1]+"月").removeClass("zHide")}else{var _newDay=$(".myCur").next().find(".day-list li").eq(0).attr("data-time"),_newAry=_newDay.split("-");$(".switch-btn .right").html(_newAry[1]+"月").removeClass("zHide")}}function setStockInfo(seldate,stockcount){var $seldataAry=seldate.split("-");1===stockcount?($(".stock").show(),$(".stock").html('<b class="m">'+$seldataAry[1]+'月</b><b class="d">'+$seldataAry[2]+"日</b>出发班期紧张")):stockcount>1&&8>=stockcount?($(".stock").show(),$(".stock").html('<b class="m">'+$seldataAry[1]+'月</b><b class="d">'+$seldataAry[2]+"日</b>出发仅剩"+stockcount+"个余位")):(stockcount>=9||0>=stockcount)&&$(".stock").hide()}function setLocalStorage(calendarData){null!==calendarData.IsUtour?calendarData.IsUtour?(api.setLocalStorage("isutour","1"),"undefined"!=typeof calendarData.TourDateBenefitPlatForm&&null!==calendarData.TourDateBenefitPlatForm&&calendarData.TourDateBenefitPlatForm.length>0?api.setLocalStorage("platforms",JSON.stringify(calendarData.TourDateBenefitPlatForm)):api.setLocalStorage("platforms","0")):api.setLocalStorage("isutour","0"):api.setLocalStorage("isutour","-1"),"undefined"!=typeof calendarData.AdditionalBenefits&&null!==calendarData.AdditionalBenefits?api.setLocalStorage("additionalbenefits",JSON.stringify(calendarData.AdditionalBenefits)):api.setLocalStorage("additionalbenefits","0"),"undefined"!=typeof calendarData.UzaiPoint&&null!==calendarData.UzaiPoint?api.setLocalStorage("uzaipoint",JSON.stringify(calendarData.UzaiPoint)):api.setLocalStorage("uzaipoint","0"),"undefined"!=typeof calendarData.StartCityFlag&&null!==calendarData.StartCityFlag?api.setLocalStorage("startcityflag",JSON.stringify(calendarData.StartCityFlag)):api.setLocalStorage("startcityflag","-1")}function getDateBenefit(dateBenefitArray,clickdate){if(calendarData.IsUtour){if("undefined"!=typeof calendarData.TourDateBenefitPlatForm&&null!==calendarData.TourDateBenefitPlatForm&&angular.forEach(calendarData.TourDateBenefitPlatForm,function(data){data.TourDateText===clickdate.toString()&&angular.forEach(data.BenefitPlatForm,function(benefitdata){dateBenefitArray.push(benefitdata.TypeName+"-"+benefitdata.Name)})}),0===calendarData.StartCityFlag){var dateBenefit=void 0;angular.forEach(calendarData.AdditionalBenefits,function(data){return data.TourDateText===clickdate?void(dateBenefit=data.BenefitInfos):void 0}),"undefined"!=typeof dateBenefit&&null!==dateBenefit&&angular.forEach(dateBenefit,function(data){dateBenefitArray.push(data.BenefitTypeName+"-"+data.UzaiBenefitDesc)})}}else{var _dateBenefit=void 0;angular.forEach(calendarData.AdditionalBenefits,function(data){return data.TourDateText===clickdate?void(_dateBenefit=data.BenefitInfos):void 0}),"undefined"!=typeof _dateBenefit&&null!==_dateBenefit&&angular.forEach(_dateBenefit,function(data){dateBenefitArray.push(data.BenefitTypeName+"-"+data.UzaiBenefitDesc)})}return"undefined"!=typeof calendarData.UzaiPoint&&null!==calendarData.UzaiPoint&&(calendarData.IsUtour?(calendarData.UzaiPoint.IsUtourGivePoint?dateBenefitArray.push(calendarData.UzaiPoint.GivePointName+"-"+calendarData.UzaiPoint.GivePointDesc):angular.forEach(calendarData.UzaiPoint.GivePointDatesText,function(data){return data===clickdate?void dateBenefitArray.push(calendarData.UzaiPoint.GivePointName+"-"+calendarData.UzaiPoint.GivePointDesc):void 0}),calendarData.UzaiPoint.IsUtourOffsetPoint?dateBenefitArray.push(calendarData.UzaiPoint.OffsetPointName+"-"+calendarData.UzaiPoint.OffsetPointDesc):angular.forEach(calendarData.UzaiPoint.OffsetPointDatesText,function(data){return data===clickdate?void dateBenefitArray.push(calendarData.UzaiPoint.OffsetPointName+"-"+calendarData.UzaiPoint.OffsetPointDesc):void 0})):(calendarData.UzaiPoint.IsGivePoint&&dateBenefitArray.push(calendarData.UzaiPoint.GivePointName+"-"+calendarData.UzaiPoint.GivePointDesc),calendarData.UzaiPoint.IsOffsetPoint&&dateBenefitArray.push(calendarData.UzaiPoint.OffsetPointName+"-"+calendarData.UzaiPoint.OffsetPointDesc)),calendarData.UzaiPoint.IsCoupon&&dateBenefitArray.push(calendarData.UzaiPoint.CouponName+"-"+calendarData.UzaiPoint.CouponDesc)),dateBenefitArray}function showDetail(date,tripname){var $activity=$(".uzai-discount"),$people=$(".uzai-numbers"),$taunts=$(".no-taunts");$activity.show(),$people.show(),$taunts.addClass("taunts").html("<span>团期：<b>2015-6-10</b></span>"),$(".uzai-footer li:first span b").html(date),$(".uzai-footer li:eq(1)").css("visibility","visible").find("span b").html(tripname),$(".uzai-footer li:last i").addClass("active")}function setTDK(title,description,keywords){$("title").html(title),$("meta[name='keywords']").attr("content",description),$("meta[name='description']").attr("content",keywords)}function androidGoBack(){back()}function back(){$(".uzai-header").hide(),$("#wrapper").hide(),$(".uzai-footer").hide(),api.loading();var url=void 0;url=null!==seldate?"detail.html?productid="+productid+"&seldate="+seldate:"detail.html?productid="+productid,window.location.href=url}var $isutour=!1;api.loading()?$(".uzai-header,.uzai-footer,#wrapper").hide():$(".uzai-header,.uzai-footer,#wrapper").show(),api.serverVirtualDir="product",api.__asyncLoadingCode__="0";var calendar=function(time,obj){function getDayNum(year,month){var veadar=!(year%400)||!(year%4)&&year%100,num=void 0;switch(month){case 2:num=veadar?29:28;break;case 1:case 3:case 5:case 7:case 8:case 10:case 12:num=31;break;default:num=30}return num}obj=obj||"body";var NewDate=new Date(time.split("-")[0],time.split("-")[1]-1)||new Date,nYear=NewDate.getFullYear(),nMonth=NewDate.getMonth()+1,curMonthDate=getDayNum(nYear,nMonth),calendarBox=$("<div></div>",{"class":"calendar-box zShow swiper-slide"});$(".week-list").html("<li>日</li><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li>");for(var day_box=$("<ul></ul>",{"class":"day-list"}),dayLi="",newDate=new Date(nYear,nMonth-1,1),curMonthWeek=newDate.getDay(),i=1;42>=i;i++)dayLi+=curMonthWeek>=i?'<li class="new"></li>':i>=curMonthWeek&&curMonthDate+curMonthWeek>=i?"<li data-time="+nYear+"-"+nMonth+"-"+(i-curMonthWeek)+'><p class="text">'+(i-curMonthWeek)+'</p><p class="end"></p><p class="price"></p><p class="dingwei"><i class="chinas zHide">●</i><i class="locals zHide">●</i></p><p class="jieqi"></p></li>':'<li class="old"></li>';day_box.html(dayLi),calendarBox.append(day_box),$(obj).append(calendarBox)},calendarData=void 0,dateStockCount=9999,unPayStockCount=0,payType=1,adultPrice=void 0,childPrice=void 0,procutBehavior=0,isUtour=0,minTravellerCount=void 0,maxTravellerCount=void 0,seldate=api.getQueryString("seldate"),seltripid=0,productid=api.getQueryString("productid"),uzaiTravelClassId=1,app=angular.module("calendarapp",[]),dd=new Date;dd.setDate(dd.getDate());var todayOfYear=dd.getFullYear(),todayOfMonth=dd.getMonth(),todayOfDay=dd.getDate();app.controller("calendardetail",function($scope,$http){var clickeddate=null,param=JSON.stringify({ProductId:productid}),productname="";api.post($http,$scope,api.path.mproductlogic,"UzaiTourDate","Calendar",param,function(obj){if(200===obj.ErrorCode||-3===obj.ErrorCode){if(-3===obj.ErrorCode){if(api.toast(obj.ErrorMsg),$scope.backshow=!0,!api.isApp())return}else 200!==obj.ErrorCode&&api.toast(obj.ErrorMsg);if("undefined"!=typeof obj.JsonResult&&null!==obj.JsonResult){if(calendarData=JSON.parse(obj.JsonResult),$isutour=calendarData.IsUtour,procutBehavior=calendarData.UzaiProcutBehavior,uzaiTravelClassId=calendarData.UzaiTravelClassID,payType=calendarData.PayType,setLocalStorage(calendarData),null!==calendarData.ProductName){productname=calendarData.ProductName;var metacontent=productname+"-众信悠哉旅游网";api.setLocalStorage("productname",productname),setTDK(metacontent,metacontent,metacontent)}else setTDK("众信悠哉旅游网","众信悠哉旅游网","众信悠哉旅游网");null!==api.getQueryString("vstoreid")&&""!==api.getQueryString("vstoreid")&&setTimeout(function(){_vstoresdk.weixinsdk.init(document.title+"-众信旅游悠哉网",location.href,"",document.getElementsByName("description")[0].content)},800),null!==calendarData.TodayOfYear&&"undefined"!==calendarData.TodayOfYear&&(todayOfYear=calendarData.TodayOfYear),null!==calendarData.TodayOfMonth&&"undefined"!==calendarData.TodayOfMonth&&(todayOfMonth=calendarData.TodayOfMonth),null!==calendarData.TodayOfDay&&"undefined"!==calendarData.TodayOfDay&&(todayOfDay=calendarData.TodayOfDay),minTravellerCount=calendarData.MinTravellerCount,maxTravellerCount=calendarData.MaxTravellerCount,0===maxTravellerCount&&(maxTravellerCount=9999999),0>=minTravellerCount&&(minTravellerCount=1),$("#adult").html(minTravellerCount),"undefined"!=typeof calendarData.CalendarTitle&&null!==calendarData.CalendarTitle&&angular.forEach(calendarData.CalendarTitle,function(data){calendar(data,".box-center")});var isDateParaValid=!1;$scope.childpricedesc="",null!==calendarData.IsUtour&&(calendarData.IsUtour&&(isUtour=1),calendarData.IsUtour||null===calendarData.ChildPriceDesc||($scope.childpricedesc=calendarData.ChildPriceDesc)),angular.forEach(calendarData.CalendarData,function(data){null!==seldate&&data.TourDateText===seldate&&(isDateParaValid=!0);var dateprice="[data-time="+data.TourDateText+"]",price="¥"+data.AdultPrice;0===data.AvailableStock&&calendarData.IsUtour&&data.UnPayStockNumber<1?$(dateprice).addClass("off").find(".end").text("售罄").css("margin-top","-.2rem").siblings(".price").text(price).css("margin-top","-.05rem"):$(dateprice).addClass("on").find(".price").text(price).css("margin-top","-.25rem")});var mySwiper=new Swiper(".swiper-container",{pagination:".pagination",loop:!1,mode:"horizontal",freeMode:!1,touchRatio:.5,longSwipesRatio:.1,watchActiveIndex:!0,threshold:50,followFinger:!1,observer:!0,observeParents:!0,onSlideChangeEnd:function(){changeMonth()}});if(null!==seldate&&isDateParaValid){var activeindex=0,tempindex=-1;clickeddate=seldate;var seldatestock=void 0,seltripname=void 0;angular.forEach(calendarData.CalendarData,function(data){return data.TourDateText===seldate?($scope.adultprice="¥"+data.AdultPrice,$scope.childpice="¥"+data.ChildPrice,$scope.isshowchildpricedesc=data.IsShowChildPriceDesc,seldatestock=data.AvailableStock,dateStockCount=data.AvailableStock,unPayStockCount=data.UnPayStockNumber,seltripname=data.TripName,seltripid=data.TripId,adultPrice=data.AdultPrice,childPrice=data.ChildPrice,void($isutour&&($scope.childpricedesc=data.ChildPriceDesc))):void 0});var seldateAry=seldate.split("-");null!==calendarData.CalendarTitle&&"undefined"!=typeof calendarData.CalendarTitle&&angular.forEach(calendarData.CalendarTitle,function(data){tempindex++,null!==seldateAry[0]&&null!==seldateAry[1]&&data===seldateAry[0]+"-"+seldateAry[1]&&(activeindex=tempindex)}),mySwiper.activeIndex=activeindex,calendarData.IsUtour?seldatestock>0?$("[data-time="+seldate+"]").addClass("cur").parents(".calendar-box").addClass("swiper-slide-active myCur").siblings(".calendar-box").removeClass("swiper-slide-active myCur"):($("[data-time="+seldate+"]").addClass("curs").parents(".calendar-box").addClass("swiper-slide-active myCur").siblings(".calendar-box").removeClass("swiper-slide-active myCur"),changeMonth()):$("[data-time="+seldate+"]").addClass("cur").parents(".calendar-box").addClass("swiper-slide-active myCur").siblings(".calendar-box").removeClass("swiper-slide-active myCur");var isShowDetail=!0;if(calendarData.IsUtour&&0>=seldatestock&&(isShowDetail=!1),isShowDetail){setStockInfo(seldate,seldatestock),showDetail(seldate,seltripname);var selDateBenefitArray=[];selDateBenefitArray=getDateBenefit(selDateBenefitArray,seldate),$scope.dateBenefitArray=selDateBenefitArray,$scope.dateBenefitsCount=selDateBenefitArray.length}}$(".box-center").css({width:393*$(".calendar-box").length+"px"}),$(".arrow-left,.switch-btn .left").on("click",function(e){e.preventDefault(),mySwiper.slidePrev(),changeMonth()}),$(".arrow-right,.switch-btn .right").on("click",function(e){e.preventDefault(),mySwiper.slideNext(),changeMonth()}),changeMonth();var myCalendar=new CreateCalendar;myCalendar.addWeekColor(),myCalendar.addGreen(),myCalendar.changeNums(".aLess",".aAdd",".cLess",".cAdd","#adult","#child"),myCalendar.getDateCur()}RemoveActiveClass()}else $scope.backshow=!0,api.endloading(),api.toast(obj.ErrorMsg)},3,!1),$(".uzai-container").on("click",".day-list .on",function(e){e.preventDefault(),e.stopPropagation();var $this=$(this),$parents=$(".box-center"),$date=$this.attr("data-time"),tripname=void 0,seldatestock=void 0;clickeddate=$date,angular.forEach(calendarData.CalendarData,function(data){return data.TourDateText===$date?($scope.adultprice="¥"+data.AdultPrice,$scope.childpice="¥"+data.ChildPrice,$scope.isshowchildpricedesc=data.IsShowChildPriceDesc,seldatestock=data.AvailableStock,dateStockCount=data.AvailableStock,unPayStockCount=data.UnPayStockNumber,tripname=data.TripName,seltripid=data.TripId,adultPrice=data.AdultPrice,childPrice=data.ChildPrice,void($isutour&&($scope.childpricedesc=data.ChildPriceDesc))):void 0}),setStockInfo($date,seldatestock),$this.addClass("cur").parents($parents).find(".on").not($this).removeClass("cur"),showDetail($date,tripname);var dateBenefitArray=[];dateBenefitArray=getDateBenefit(dateBenefitArray,$date),$scope.dateBenefitArray=dateBenefitArray,$scope.dateBenefitsCount=dateBenefitArray.length,RemoveActiveClass(),$scope.$apply()}).on("click",".uzai-footer li .active",function(){}),$scope.openBenefitPage=function(){var url="benefit.html?from=calendar&productid="+productid;null!==clickeddate&&(url+="&seldate="+clickeddate),window.location.href=url},$scope.backpage=function(){back()},$scope.next=function($event){var classname=$event.target.getAttribute("class"),adultcount=$("#adult").html(),childcount=$("#child").html(),totalCount=parseInt(adultcount)+parseInt(childcount);if(minTravellerCount>maxTravellerCount||minTravellerCount>unPayStockCount+dateStockCount&&1===payType)return void api.toast("已超过最大预定数");if(1===payType&&totalCount>dateStockCount+unPayStockCount)return void api.toast("余位不足");if(minTravellerCount>adultcount)return void api.toast("至少预定成人数"+minTravellerCount+"人");if("active"===classname)if(3!==procutBehavior&&0!==isUtour||1!==calendarData.ProductType||1===calendarData.UzaiTravelClassID||2===calendarData.UzaiTravelClassID||3===calendarData.UzaiTravelClassID){var appurl="https://mbuy.uzai.com/booking/index.html?para=";appurl+=productid+"_"+adultcount+"_"+childcount+"_"+clickeddate+"_"+seltripid+"_"+uzaiTravelClassId,null!=api.getQueryString("vstoreid")&&""!==api.getQueryString("vstoreid")&&(appurl+="&&vstoreid="+api.getQueryString("vstoreid")),null===api.getUser().userId||void 0===api.getUser().userId||""===api.getUser().userId?(api.loginConfig.forword=appurl,api.login(location.href,appurl)):window.location.href=appurl}else{var userid=api.getUser().userId;userid||(userid=0);var url="https://buy.uzai.com/touch_one/";url+=clickeddate.toString()+"/",url+=adultcount+"/"+childcount+"/",url+=adultPrice+"/"+childPrice+"/"+productid+"/"+userid+".html?phoneid=",null===api.getUser().userId||void 0===api.getUser().userId||""===api.getUser().userId?api.login(location.href,url):(url+="&userid="+userid,window.location.href=url)}}}),$(".people-choose .left i:eq(0)").click(function(){var $mask=$(".cal-mask"),$pop=$("#cal-pop");$mask.show(),$pop.fadeIn()}),$("#cal-pop .icon-guanbi,.cal-mask").click(function(){var $mask=$(".cal-mask"),$pop=$("#cal-pop");$mask.fadeOut(),$pop.hide()}),$(".people-choose .left i:eq(1)").click(function(){var $mask=$(".cal-mask"),$pop=$("#cal-pop-child");$mask.show(),$pop.fadeIn()}),$("#cal-pop-child .icon-guanbi,.cal-mask").click(function(){var $mask=$(".cal-mask"),$pop=$("#cal-pop-child");$mask.fadeOut(),$pop.hide()}),CreateCalendar.prototype={construsctor:CreateCalendar,addWeekColor:function(){$(".week-list li").each(function(i){var $this=$(this);return 0===i||6===i?$this.css("color","red"):""})},addGreen:function(){var $box=$("#list .calendar-box");$box.each(function(){var $this=$(this);$this.find(".day-list li").each(function(e){var $that=$(this);return $that.hasClass("on")?"":$that.addClass("off")})})},changeNums:function(aLess,aAdd,cLess,cAdd,adult,child){var max=maxTravellerCount;$(aLess).click(function(){var _adultcount=parseInt($(adult).html());return _adultcount===minTravellerCount?($(".aLess").removeClass("active bgActive"),void api.toast("已达到最小预订数")):(_adultcount>minTravellerCount&&($(adult).html($(adult).html()-1),$(".aLess").addClass("active"),$(this).parents("li.clearfix").siblings("li.clearfix").find(".right i").removeClass("bgActive"),$(this).addClass("active bgActive").siblings(".aAdd").addClass("active").removeClass("bgActive")),$(adult).html()<max-parseInt($(child).html())&&$(".cAdd").addClass("active"),void("0"!==$(child).html()&&$(".cLess").addClass("active")))}),$(aAdd).click(function(){var _adultcount=parseInt($(adult).html()),_childcount=parseInt($(child).html());if(_childcount+_adultcount>=max)return void api.toast("已达到最大预订数");if(max-1-_childcount>_adultcount)$(adult).html(_adultcount-0+1),$(this).parents("li.clearfix").siblings("li.clearfix").find(".right i").removeClass("bgActive"),$(this).addClass("active bgActive").siblings(".aLess").addClass("active").removeClass("bgActive");else{if(_adultcount!==max-1-_childcount)return;$(adult).html(max-$(child).html()),$(this).removeClass("bgActive active").siblings(".aLess").addClass("active"),$(".cAdd").removeClass("active bgActive"),_childcount>0&&$(".cLess").addClass("active"),api.toast("已达到最大预订数")}_childcount+parseInt($(adult).html())>=maxTravellerCount&&$(".aAdd,.cAdd").removeClass("active bgActive"),_childcount+parseInt($(adult).html())<=minTravellerCount&&$(".aLess,.cLess").removeClass("active bgActive")}),$(cLess).click(function(){parseInt($(child).html())>0&&($(child).html($(child).html()-1),$(this).parents("li.clearfix").siblings("li.clearfix").find(".right i").removeClass("bgActive"),$(this).addClass("active bgActive").siblings(".cAdd").addClass("active").removeClass("bgActive"),parseInt($(child).html())<=0&&$(".cLess").removeClass("bgActive active")),$(child).html()<max-$(adult).html()&&$(".aAdd,.cAdd").addClass("active")}),$(cAdd).click(function(){var _adultcount=parseInt($(adult).html()),_childcount=parseInt($(child).html());if(_childcount+_adultcount>=max)return void api.toast("已达到最大预订数");if(max-1-_adultcount>_childcount)$(child).html(_childcount-0+1),$(this).parents("li.clearfix").siblings("li.clearfix").find(".right i").removeClass("bgActive"),$(this).addClass("active bgActive").siblings(".cLess").addClass("active").removeClass("bgActive"),$(".aAdd").addClass("active");else{if(_childcount!==max-1-_adultcount)return;$(child).html(max-_adultcount),$(this).removeClass("bgActive active").siblings(".cLess").addClass("active"),_adultcount>1&&minTravellerCount>_adultcount&&$(".aLess").addClass("active"),$(".aAdd").removeClass("active bgActive"),api.toast("已达到最大预订数")}parseInt($(child).html())+_adultcount>=maxTravellerCount&&$(".aAdd,.cAdd").removeClass("active bgActive"),parseInt($(child).html())+_adultcount<=minTravellerCount&&$(".aLess,.cLess").removeClass("active bgActive")})},getDateCur:function(){var GetDateStr=function(){var dd=new Date;dd.setDate(dd.getDate());var y=todayOfYear,m=todayOfMonth,d=todayOfDay;return y+"-"+m+"-"+d};$(".calendar-box li").each(function(i){var $this=$(this),date=$this.attr("data-time");date==GetDateStr(0)&&$this.addClass("now").removeClass("off").find(".text").html("今天").end().next().find(".text").html("明天").end().next().find(".text").html("后天")}),$(".calendar-box").each(function(i){var $this=$(this);$this.find(".day-list li").each(function(e){var $ind=$(".now").index(),$pInd=$(".now").parents(".calendar-box").index();return $ind>e&&$(".now").parents(".calendar-box").find(".day-list li").eq(e).addClass("off over").removeClass("on").find(".price").css("color","#ddd"),$pInd>i?$(this).parents(".calendar-box").find(".day-list li").removeClass("on").addClass("off over"):""})})}};var RemoveActiveClass=function(){minTravellerCount>=maxTravellerCount&&($(".cLess").removeClass("active bgActive"),$(".aLess").removeClass("active bgActive"),$(".aAdd").removeClass("active bgActive"),$(".cAdd").removeClass("active bgActive"))};window.androidGoBack=window.androidGoBack||androidGoBack}(window)},7:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},Ajax=function(){function request(opt){function fn(){}var url=opt.url||"",async=opt.async!==!1,method=opt.method||"GET",data=opt.data||null,success=opt.success||fn,error=opt.failure||fn;if(method=method.toUpperCase(),"GET"==method&&data){var args="";if("string"==typeof data)args=data;else if("object"==("undefined"==typeof data?"undefined":_typeof(data))){var arr=new Array;for(var k in data){var v=data[k];arr.push(k+"="+v)}args=arr.join("&")}url+=(-1==url.indexOf("?")?"?":"&")+args,data=null}var xhr=window.XMLHttpRequest?new XMLHttpRequest:"";return xhr.onreadystatechange=function(){_onStateChange(xhr,success,error)},xhr.open(method,url,async),"POST"==method&&xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded;"),xhr.send(data),xhr}function _onStateChange(xhr,success,failure){if(4==xhr.readyState){var s=xhr.status;s>=200&&300>s?success(xhr):failure(xhr)}}return{request:request}}(),weixinsdk={init:function(title,link,imgUrl,desc){var _this=this;Ajax.request({url:"https://vd.uzai.com/VStoreAuthen/SignatureGet",method:"post",data:{},success:function(xhr){if(api.endloading(),null!=xhr.response&&""!=xhr.response.replace(/\s+/g,"")){var data=JSON.parse(xhr.response);data=JSON.parse(data),200===data.ErrorCode?(data=JSON.parse(data.JsonResult),wx.config({debug:!1,appId:data.appId,timestamp:data.timestamp,nonceStr:data.nonceStr,signature:data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),null!=desc&&"undefined"!=typeof desc&&(desc=desc.replace(/&lt;/g,"<").replace(/&gt;/g,">")),_this.ready(title,link,imgUrl,desc)):api.toast(data.ErrorMsg)}else api.toast("js-sdk初始化失败")},failure:function(xhr){}})},ready:function(title,link,imgUrl,desc){wx.ready(function(){wx.onMenuShareTimeline({title:title,link:link,imgUrl:imgUrl,success:function(){console.log("分享成功")},cancel:function(){console.log("取消分享")}}),wx.onMenuShareAppMessage({title:title,desc:desc,link:location.href,imgUrl:imgUrl,type:"",dataUrl:"",success:function(){console.log("分享到朋友")},cancel:function(){console.log("取消分享到朋友")}}),wx.onMenuShareQQ({title:title,desc:desc,link:link,imgUrl:imgUrl,success:function(){console.log("分享到QQ成功")},cancel:function(){console.log("取消分享到QQ")}}),wx.onMenuShareWeibo({title:title,desc:desc,link:link,imgUrl:imgUrl,success:function(){console.log("分享到腾讯微博成功")},cancel:function(){console.log("取消分享到腾讯微博")}}),wx.onMenuShareQZone({title:title,desc:desc,link:link,imgUrl:imgUrl,success:function(){console.log("分享到QQ空间成功")},cancel:function(){console.log("取消分享到QQ空间")}})})}};exports.weixinsdk=weixinsdk}});