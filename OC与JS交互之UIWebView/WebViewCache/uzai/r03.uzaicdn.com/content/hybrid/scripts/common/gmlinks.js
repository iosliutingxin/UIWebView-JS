"use strict";!function(api){function popShow(){var code=checkUrl(),mlinks=void 0;void 0===code&&(code="AADe");var _terminal="wap",_isWeixin="micromessenger"===navigator.userAgent.toLowerCase().match(/micromessenger/i);if(_isWeixin&&(_terminal="weixin"),api.isApp()&&(_terminal="app"),"AArm"===code){var productid=api.getQueryString("productid");mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal+"&&productID="+productid}else if("Aag9"===code)mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal+"&&skipURL=https://magic.uzai.com/";else if("Acum"===code)mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal;else if("Acun"===code){var positionTypeId=api.getQueryString("positionTypeId");mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal+"&&positionTypeId="+positionTypeId}else if("AcuG"===code){var channelId=api.getCookie("channelId"),channelType=api.getCookie("channelType");mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal+"&&channelId="+channelId+"&&channelType="+channelType}else if("AaHv"===code){var city=api.getQueryString("city"),key=api.getQueryString("keyword"),category=api.getQueryString("traveclass"),preferential=api.getQueryString("preferential"),play=api.getQueryString("play"),price=api.getQueryString("price"),scenic=api.getQueryString("scenic"),day=api.getQueryString("day"),date=api.getQueryString("date"),pageindex=api.getQueryString("pageindex"),sort=api.getQueryString("sort"),destination=api.getQueryString("destination"),company=api.getQueryString("company"),cruises=api.getQueryString("cruises"),params="";params+=""!==city&&null!==city&&"undefined"!=typeof city&&0!==city&&"0"!==city?"&&city="+city:"&&city=1",""!==key&&null!==key&&"undefined"!=typeof key&&0!==key&&"0"!==key&&(params+="&&keyword="+key),""!==category&&null!==category&&"undefined"!=typeof category&&0!==category&&"0"!==category&&(params+="&&traveclass="+category),""!==preferential&&null!==preferential&&"undefined"!=typeof preferential&&0!==preferential&&"0"!==preferential&&(params+="&&preferential="+preferential),""!==play&&null!==play&&"undefined"!=typeof play&&0!==play&&"0"!==play&&(params+="&&play="+play),""!==price&&null!==price&&"undefined"!=typeof price&&0!==price&&"0"!==price&&(params+="&&price="+price),""!==scenic&&null!==scenic&&"undefined"!=typeof scenic&&0!==scenic&&"0"!==scenic&&(params+="&&scenic="+scenic),""!==day&&null!==day&&"undefined"!=typeof day&&0!==day&&"0"!==day&&(params+="&&day="+day),""!==date&&null!==date&&"undefined"!=typeof date&&0!==date&&"0"!==date&&(params+="&&date="+date),""!==pageindex&&null!==pageindex&&"undefined"!=typeof pageindex&&0!==pageindex&&"0"!==pageindex&&(params+="&&pageindex="+pageindex),""!==sort&&null!==sort&&"undefined"!=typeof sort&&0!==sort&&"0"!==sort&&(params+="&&sort="+sort),""!==destination&&null!==destination&&"undefined"!=typeof destination&&0!==destination&&"0"!==destination&&(params+="&&destination="+destination),""!==company&&null!==company&&"undefined"!=typeof company&&0!==company&&"0"!==company&&(params+="&&company="+company),""!==cruises&&null!==cruises&&"undefined"!=typeof cruises&&0!==cruises&&"0"!==cruises&&(params+="&&cruises="+cruises),mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal+params}else mlinks="https://a.mlinks.cc/"+code+"?channel="+_terminal+"&&mw_ck="+_terminal;var _html=document.createElement("div");_html.setAttribute("class","uzai-down-pop");var _firstchild=document.createElement("div");_firstchild.setAttribute("class","con");var _secondchild1=document.createElement("a");_secondchild1.setAttribute("class","down-btn close"),_secondchild1.innerHTML="下载/打开APP";var _secondchild2=document.createElement("a");_secondchild2.setAttribute("class","mc-dec1"),_secondchild2.innerHTML=mctext1;var _secondchild3=document.createElement("a");_secondchild3.setAttribute("class","mc-dec2"),_secondchild3.innerHTML=mctext2;var _secondchild4=document.createElement("a");_secondchild4.setAttribute("class","top-btn close"),_firstchild.appendChild(_secondchild1),_firstchild.appendChild(_secondchild2),_firstchild.appendChild(_secondchild3),_firstchild.appendChild(_secondchild4),_html.appendChild(_firstchild),new Mlink({mlink:mlinks,button:_secondchild1,autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:{}}),document.body.insertBefore(_html,document.body.childNodes[0]);var btn=document.getElementsByClassName("close");[].forEach.call(btn,function(n){n.addEventListener("click",function(){var _close=document.querySelector(".uzai-down-pop");_close.parentNode.removeChild(_close),api.setCookie("uzmGdownloadTip","1",2592e3),closemagicwindow()})})}function checkUrl(){for(var url=window.location.host+window.location.pathname,pageCode=[{host:["m.uzai.com/sale","m.uzai.com/sale/","m.uzai.com/sale/index","m.uzai.com/sale/index/","m.uzai.com/o/Sale","m.uzai.com/o/Sale/","m.uzai.com/o/sale/index","m.uzai.com/o/sale/index/"],code:"AA2u"},{host:["mdingzhi.uzai.com","mdingzhi.uzai.com/","mdingzhi.uzai.com/home","mdingzhi.uzai.com/home/","mdingzhi.uzai.com/home/index.html","mdingzhi.uzai.com/hybrid/Home","mdingzhi.uzai.com/hybrid/home/","mdingzhi.uzai.com/hybrid/home/index.html"],code:"AA2v"},{host:["m.uzai.com/product/detail.html"],code:"AArm"},{host:["magic.uzai.com","magic.uzai.com/"],code:"Aag9"},{host:["m.uzai.com/search/list","m.uzai.com/search/list/","m.uzai.com/search/list/index","m.uzai.com/search/list/index/"],code:"AaHv"},{host:["m.uzai.com/freetour","m.uzai.com/grouptour","m.uzai.com/outbound","m.uzai.com/domestic"],code:"AcuG"},{host:["m.uzai.com/rankdetail"],code:"Acun"},{host:["m.uzai.com/aggregation"],code:"Acum"}],code=void 0,i=0;i<pageCode.length;i++)for(var j=0;j<pageCode[i].host.length;j++)if(url.toLocaleLowerCase()===pageCode[i].host[j].toLocaleLowerCase())return code=pageCode[i].code}function magicwindowset(){for(var url=window.location.host+window.location.pathname,i=0;i<mcpageCode.length;i++)for(var j=0;j<mcpageCode[i].host.length;j++)if(url.toLocaleLowerCase()===mcpageCode[i].host[j].toLocaleLowerCase()){var hd=document.getElementsByClassName(mcpageCode[i].classname)[0];if(hd.classList.add(mcpageCode[i].rem),""!==mcpageCode[i].classname1){var classname1=document.getElementsByClassName(mcpageCode[i].classname1)[0];if(void 0!==classname1){var back=classname1.getElementsByClassName("back")[0],search=classname1.getElementsByClassName("search")[0];back.classList.add(mcpageCode[i].rem),search.classList.add(mcpageCode[i].rem)}var bannetips=document.getElementsByClassName("banner-tips")[0],proid=document.getElementById("Product"),_products=proid.getElementsByClassName("uzai-products")[0],uzaimaintainno=document.getElementsByClassName("uzai-maintain-no")[0],uzaichooseid=document.getElementById("uzai-choose");uzaimaintainno.style.cssText="top:1.2rem",uzaichooseid.style.cssText="top:2.1rem",bannetips||(_products.style.cssText="margin-top:2.1rem")}}var scrollmagicwindow=function(){var scrollTop=0;document.documentElement&&document.documentElement.scrollTop?scrollTop=document.documentElement.scrollTop:document.body&&(scrollTop=document.body.scrollTop);for(var _i=0;_i<mcpageCode.length;_i++)for(var _j=0;_j<mcpageCode[_i].host.length;_j++)if(url.toLocaleLowerCase()===mcpageCode[_i].host[_j].toLocaleLowerCase()){var _hd=document.getElementsByClassName(mcpageCode[_i].classname)[0],_classname=document.getElementsByClassName(mcpageCode[_i].classname1)[0],_uzaimaintainno=document.getElementsByClassName("uzai-maintain-no")[0];if(scrollTop>0)if(_hd.classList.remove(mcpageCode[_i].rem),void 0!==_classname){var _search=_classname.getElementsByClassName("search")[0];_search.classList.remove(mcpageCode[_i].rem)}else document.getElementsByClassName("uzai-choose-tips").length>0&&!document.getElementsByClassName("uzai-choose-tips")[0].classList.contains("zHide")&&(_uzaimaintainno.style.cssText="top:0rem");else if(_hd.classList.add(mcpageCode[_i].rem),void 0!==_classname){var _search2=_classname.getElementsByClassName("search")[0];_search2.classList.add(mcpageCode[_i].rem)}}};window.onscroll=function(){oldOnscroll&&oldOnscroll(),scrollmagicwindow()}}function closemagicwindow(){window.onscroll=function(){oldOnscroll&&oldOnscroll()};for(var url=window.location.host+window.location.pathname,i=0;i<mcpageCode.length;i++)for(var j=0;j<mcpageCode[i].host.length;j++)if(url.toLocaleLowerCase()===mcpageCode[i].host[j].toLocaleLowerCase()){var hd=document.getElementsByClassName(mcpageCode[i].classname)[0];if(hd.classList.remove(mcpageCode[i].rem),""!==mcpageCode[i].classname1){var classname1=document.getElementsByClassName(mcpageCode[i].classname1)[0];if(void 0!==classname1){var back=classname1.getElementsByClassName("back")[0],search=classname1.getElementsByClassName("search")[0];back.classList.remove("top120"),search.classList.remove(mcpageCode[i].rem);var _uzaiheadermask=document.getElementsByClassName("uzai-header-mask")[0],uzaimaintainno=document.getElementsByClassName("uzai-maintain-no")[0],uzaichooseid=document.getElementById("uzai-choose");_uzaiheadermask.classList.contains("zHide")&&(uzaimaintainno.style.cssText="top:0rem",uzaichooseid.style.cssText="top:1rem")}else if(void 0!==document.getElementsByClassName("uzai-maintain-no")[0]){var _uzaiheadermask2=document.getElementsByClassName("uzai-header-mask")[0],_uzaimaintainno2=document.getElementsByClassName("uzai-maintain-no")[0],_uzaichooseid=document.getElementById("uzai-choose");_uzaiheadermask2.classList.contains("zHide")&&(_uzaimaintainno2.style.cssText="top:0rem",_uzaichooseid.style.cssText="top:1rem")}}}for(var _i2=0;_i2<mcpageCode.length;_i2++)for(var _j2=0;_j2<mcpageCode[_i2].host.length;_j2++)if(url.toLocaleLowerCase()===mcpageCode[_i2].host[_j2].toLocaleLowerCase()){var _hd2=document.getElementsByClassName(mcpageCode[_i2].classname)[0],_classname2=document.getElementsByClassName(mcpageCode[_i2].classname1)[0];if(void 0!==_classname2){var _search3=_classname2.getElementsByClassName("search")[0],_back=_classname2.getElementsByClassName("back")[0];_back.classList.remove("top120"),_search3.classList.remove(mcpageCode[_i2].rem)}_hd2.classList.remove(mcpageCode[_i2].rem)}}var oldOnscroll=window.onscroll,mctext1="打开众信悠哉旅游",mctext2="暑期出境游，大放价&nbsp;送豪礼",mcpageCode=[{host:["m.uzai.com/sale","m.uzai.com/sale/","m.uzai.com/sale/index","m.uzai.com/o/Sale","m.uzai.com/o/sale/index","m.uzai.com/o/sale/index/"],rem:"top120",rem1:"mt88",classname:"white-topbar",classname1:"",classname2:"sale-content"},{host:["mdingzhi.uzai.com","mdingzhi.uzai.com/","mdingzhi.uzai.com/home","mdingzhi.uzai.com/home/","mdingzhi.uzai.com/home/index.html","mdingzhi.uzai.com/hybrid/Home","mdingzhi.uzai.com/hybrid/home/","mdingzhi.uzai.com/hybrid/home/index.html"],rem:"top120",rem1:"",classname:"white-topbar",classname1:"",classname2:""},{host:["m.uzai.com/product/detail.html"],rem:"top120",rem1:"",classname:"white-topbar",classname1:"",classname2:""},{host:["m.uzai.com/search/list","m.uzai.com/search/list/","m.uzai.com/search/list/index","m.uzai.com/search/list/index/"],rem:"top120",rem1:"",classname:"back",classname1:"uzai-shelves-header",classname2:""},{host:["m.uzai.com/rankdetail","m.uzai.com/aggregation"],rem:"top120",rem1:"",classname:"channel-hd",classname1:"",classname2:""}],hasMlinkCookie=api.getCookie("uzmGdownloadTip"),hasMlinkURL=api.getQueryString("uzmGdownloadTip");if(hasMlinkURL&&"0"!==hasMlinkURL)api.setCookie("uzmGdownloadTip","1",2592e3);else if(!(hasMlinkURL&&"0"!==hasMlinkURL||hasMlinkCookie&&"0"!==hasMlinkURL)){var _scripts=document.createElement("script");_scripts.setAttribute("async","async"),_scripts.setAttribute("src","https://a.mlinks.cc/scripts/dist/mlink.min.js"),document.body.appendChild(_scripts),_scripts.onload=_scripts.onreadystatechange=function(){_scripts.readyState&&!/loaded|complete/.test(_scripts.readyState)||(_scripts.onload=_scripts.onreadystatechange=null,api.isApp()||"0"===api.__asyncLoadingCode__||popShow(),document.getElementsByClassName("uzai-down-pop")[0]&&magicwindowset())}}}(api);