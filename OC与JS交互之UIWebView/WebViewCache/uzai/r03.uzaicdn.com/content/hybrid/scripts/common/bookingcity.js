!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}({0:function(module,exports,__webpack_require__){"use strict";var BookingCity={create:function(){var Ajax=__webpack_require__(5),$CityList=void 0,BookingCity={init:function(){var _this=this;_this.GetCityList().then(function(ResultJson){var data=JSON.parse(ResultJson);data=JSON.parse(data),$CityList=data,BookingCity.setBookingCityCookie()})["catch"](function(ErrMsg){})},setBookingCityCookie:function(){for(var pageList=new Array("m.uzai.com/search/list","m.uzai.com/search/list/","m.uzai.com/search/list/index","m.uzai.com/search/list/index/","mdingzhi.uzai.com","mdingzhi.uzai.com/","mdingzhi.uzai.com/home","mdingzhi.uzai.com/home/","mdingzhi.uzai.com/home/index.html","mdingzhi.uzai.com/hybrid/Home","mdingzhi.uzai.com/hybrid/home/","m.uzai.com/product/detail.html","m.uzai.com/product/calendar.html","m.uzai.com/sale","m.uzai.com/sale/","m.uzai.com/sale/index","m.uzai.com/sale/index/","m.uzai.com/o/Sale","m.uzai.com/o/Sale/","m.uzai.com/o/sale/index","m.uzai.com/o/sale/index/","m.uzai.com/waptour","m.uzai.com/trip/wap/"),currentUrl=window.location.host+window.location.pathname,i=0;i<pageList.length;i++)if(pageList[i]===currentUrl||currentUrl.indexOf(pageList[i])>=0){var cityPara=api.getQueryString("bookingcityid");if(null!==cityPara&&void 0!==cityPara)api.setCookie("bookingcityid",cityPara);else if(void 0===api.getCookie("bookingcityid")||null===api.getCookie("bookingcityid")){var _scripts=document.createElement("script");_scripts.setAttribute("async","async"),_scripts.setAttribute("src","https://r03.uzaicdn.com/content/hybrid/scripts/common/api-map.js"),document.body.appendChild(_scripts),setTimeout(function(){},3e3),BookingCity.NoAppPositionInit()}break}},handleLocationError:function(error){console.log(error)},NoAppPositionInit:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(BookingCity.showPosition,BookingCity.handleLocationError,{enableHighAccuracy:!0,timeout:1e3,maximumAge:0})},showPosition:function(position){var latitude=position.coords.latitude,longitude=position.coords.longitude,point=new BMap.Point(longitude,latitude),gc=new BMap.Geocoder;gc.getLocation(point,function(rs){cityname=rs.addressComponents.city,cityname.indexOf("市")>0&&(cityname=cityname.replace(/市/,"")),api.setCookie("bookingcityname",cityname);var cityid=BookingCity.GetCityIdByName(cityname);api.setCookie("bookingcityid",cityid)})},GetCityList:function(){return new Promise(function(resolve,reject){Ajax.ajax.request({url:"/Index/GetCityList",method:"post",async:!1,data:{},success:function(xhr){resolve(xhr.response)}})})},GetCityIdByName:function(cityname){if(null===$CityList||void 0===$CityList)return"1";for(var i=0;i<$CityList.length;i++)if($CityList[i].CityName===cityname)return $CityList[i].CityID}};return BookingCity}},bookingCity=BookingCity.create();bookingCity.init()},5:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},ajax={request:function(opt){function fn(){}var url=opt.url||"",async=opt.async!==!1||!0,method=opt.method||"GET",data=opt.data||null,success=opt.success||fn,error=opt.failure||fn;if(method=method.toUpperCase(),"GET"==method&&data){var args="";if("string"==typeof data)args=data;else if("object"==("undefined"==typeof data?"undefined":_typeof(data))){var arr=new Array;for(var k in data){var v=data[k];arr.push(k+"="+v)}args=arr.join("&")}url+=(-1==url.indexOf("?")?"?":"&")+args,data=null}var xhr=window.XMLHttpRequest?new XMLHttpRequest:"";return xhr.onreadystatechange=function(){ajax._onStateChange(xhr,success,error)},xhr.open(method,url,async),"POST"==method&&xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded;"),xhr.send(data),xhr},_onStateChange:function(xhr,success,failure){if(4==xhr.readyState){var s=xhr.status;s>=200&&300>s?success(xhr):failure(xhr)}}};exports.ajax=ajax}});